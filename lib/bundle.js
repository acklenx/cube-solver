!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(e,t,n){var r,o,i;!function(n,a){o=[t],r=a,void 0!==(i="function"==typeof r?r.apply(t,o):r)&&(e.exports=i)}(0,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=(e.factorial=function(e){for(var t=1,n=2;n<=e;n+=1)t*=n;return t},[]);e.choose=function(e,n){if(n>e)return 0;for(;e>=t.length;){var r=t.length,o=[];o[0]=1;for(var i=1,a=r-1;i<r;i+=1)o[i]=t[a][i-1]+t[a][i];o[r]=1,t.push(o)}return t[e][n]},e.cartesian=function(e){var t=[],n=e.length-1;return function r(o,i){for(var a=0;a<e[i].length;a+=1){var u=o.slice(0);u.push(e[i][a]),i===n?t.push(u):r(u,i+1)}}([],0),t}})},function(e,t,n){var r,o,i;!function(n,a){o=[t],r=a,void 0!==(i="function"==typeof r?r.apply(t,o):r)&&(e.exports=i)}(0,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t={"":0,2:1,"'":2};e.parseAlgorithm=function(e){var n=[],r=e.match(/[FRUBLD][2']?/g),o=!0,i=!1,a=void 0;try{for(var u,f=r[Symbol.iterator]();!(o=(u=f.next()).done);o=!0){var l=u.value,s="FRUBLD".indexOf(l.charAt(0)),c=t[l.charAt(1)];n.push(3*s+c)}}catch(e){i=!0,a=e}finally{try{!o&&f.return&&f.return()}finally{if(i)throw a}}return n},e.formatAlgorithm=function(e){var t="";return e.forEach(function(e){switch(t+=" ",t+="FRUBLD".charAt(Math.floor(e/3)),e%3){case 1:t+="2";break;case 2:t+="'"}}),t}})},function(e,t,n){var r,o,i;!function(a,u){o=[t,n(0)],r=u,void 0!==(i="function"==typeof r?r.apply(t,o):r)&&(e.exports=i)}(0,function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:allMoves;n(this,e),this.computePruningTable(t,r)}return r(e,[{key:"setPruningValue",value:function(e,t){this.table[e>>3]^=(15^t)<<((7&e)<<2)}},{key:"getPruningValue",value:function(e){return this.table[e>>3]>>((7&e)<<2)&15}},{key:"computePruningTable",value:function(e,n){var r=e.reduce(function(e,t){return e*t.size},1);this.table=[];for(var o=0;o<r+7>>3;o+=1)this.table.push(-1);for(var i=0,a=0,u=[1],f=1;f<e.length;f+=1)u.push(e[f-1].size*u[f-1]);for(var l=(0,t.cartesian)(e.map(function(e){return e.solvedIndexes})),s=0;s<l.length;s+=1){for(var c=0,v=0;v<l[s].length;v+=1)c+=u[v]*l[s][v];this.setPruningValue(c,0),a+=1}for(;a!==r;){var h=a>r/2,d=h?15:i,g=h?i:15;i+=1;for(var p=0;p<r;p+=1)if(this.getPruningValue(p)===d)for(var m=0;m<n.length;m+=1){for(var b=n[m],x=p,y=0,F=u.length-1;F>=0;F-=1)y+=u[F]*e[F].doMove(Math.floor(x/u[F]),b),x%=u[F];if(this.getPruningValue(y)===g){if(a+=1,h){this.setPruningValue(p,i);break}this.setPruningValue(y,i)}}}}}]),e}();e.default=o})},function(e,t,n){var r,o,i;!function(a,u){o=[n(4),n(5),n(0),n(1),n(2),n(6),n(7)],r=u,void 0!==(i="function"==typeof r?r.apply(t,o):r)&&(e.exports=i)}(0,function(e,t,n,r,o,i,a){"use strict";function u(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}for(var c=(u(o),u(i)),v=u(a),h=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),d=[1,10,4,13,6,7,8,15,16,17],g=new c.default({name:"parity",size:2,table:[[1,0,1,1,0,1,1,0,1,1,0,1,1,0,1,1,0,1],[0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0]]}),p=new c.default({name:"URFToDLF",size:20160,getVector:function(t){return(0,e.getPermutationFromIndex)(t,[0,1,2,3,4,5],8)},cubieMove:t.cornerPermutationMove,getIndex:function(t){return(0,e.getIndexFromPermutation)(t,[0,1,2,3,4,5])}}),m=new c.default({name:"slice",size:11880,getVector:function(t){return(0,e.getPermutationFromIndex)(t,[8,9,10,11],12,!0)},cubieMove:t.edgePermutationMove,getIndex:function(t){return(0,e.getIndexFromPermutation)(t,[8,9,10,11],!0)}}),b=[new c.default({name:"slicePosition",size:495,table:m.table,doMove:function(e,t,n){return Math.floor(e[24*t][n]/24)}}),new c.default({name:"twist",size:2187,getVector:function(t){return(0,e.getOrientationFromIndex)(t,8,3)},cubieMove:t.cornerOrientationMove,getIndex:function(t){return(0,e.getIndexFromOrientation)(t,3)}}),new c.default({name:"flip",size:2048,getVector:function(t){return(0,e.getOrientationFromIndex)(t,12,2)},cubieMove:t.edgeOrientationMove,getIndex:function(t){return(0,e.getIndexFromOrientation)(t,2)}}),m,g,p,new c.default({name:"URToUL",size:1320,getVector:function(t){return(0,e.getPermutationFromIndex)(t,[0,1,2],12)},cubieMove:t.edgePermutationMove,getIndex:function(t){return(0,e.getIndexFromPermutation)(t,[0,1,2])}}),new c.default({name:"UBToDF",defaultIndex:114,size:1320,getVector:function(t){return(0,e.getPermutationFromIndex)(t,[3,4,5],12)},cubieMove:t.edgePermutationMove,getIndex:function(t){return(0,e.getIndexFromPermutation)(t,[3,4,5])}})],x=[["slicePosition"],["slicePosition","flip"],["slicePosition","twist"]],y=[],F=0;F<336;F+=1){y.push([]);for(var M=0;M<336;M+=1)y[F][M]=function(t,n){for(var r=(0,e.getPermutationFromIndex)(t,[0,1,2],12),o=(0,e.getPermutationFromIndex)(n,[3,4,5],12),i=0;i<8;i+=1)if(-1!==r[i]){if(-1!==o[i])return-1;o[i]=r[i]}return(0,e.getIndexFromPermutation)(o,[0,1,2,3,4,5])}(F,M)}var P=[new c.default({name:"slicePermutation",size:24,table:m.table}),g,p,new c.default({name:"URToDF",size:20160,moves:d,getVector:function(t){return(0,e.getPermutationFromIndex)(t,[0,1,2,3,4,5],12)},cubieMove:t.edgePermutationMove,getIndex:function(t){return(0,e.getIndexFromPermutation)(t,[0,1,2,3,4,5])}})],D=[["slicePermutation","parity","URFToDLF"],["slicePermutation","parity","URToDF"]],I=new v.default(P,D,d),L=function(e){function t(){f(this,t);var e=l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.maxDepth=arguments[0].maxDepth||22,e.solution=null,e}return s(t,e),h(t,[{key:"handleSolution",value:function(e,t){var n=e.slice(-1)[0];if(n%2!=0||6!==Math.floor(n/3)||15!==Math.floor(n/3)){var r=I.solve({indexes:[t[3],t[4],t[5],y[t[6]][t[7]]],maxDepth:this.maxDepth-e.length,lastMove:n});if(r){if(this.solution=e.concat(r.solution),this.maxDepth<=this.settings.maxDepth)return{solution:this.solution,indexes:t};this.maxDepth=this.solution.length-1}}}}]),t}(v.default),R=new L(b,x);console.log("All tables initialized");var T=["U L2 U2 R2 B2 L2 U2 B U2 B L2 R2 U' F' L' B2 R2 F D B'","B2 R2 D2 L2 F' L2 F L2 R2 F R D L2 R2 D2 F L B' F2 D","B2 L2 D L2 D' R2 F2 U' R2 F2 R2 F L R2 F D R2 D' U' F","B R2 U2 L2 R2 F' L2 B' D2 L2 F' D' B D' R D R' U' R' F'","R' B D2 B R2 F U2 L2 B2 U2 B2 D' L B2 D U' L' R' B R","F2 U2 L2 D L2 U' R2 D' R' B2 U2 B' U2 R' U' L2 B U'","L R2 U F2 L2 D2 F2 D' R2 F2 L2 D2 L' U' B' F2 L D L' U' F","D2 R2 F L2 D2 F L2 U2 B2 U2 F2 R' D2 F' D' R' F' L F2 D F'","U F2 D' R2 U' L2 U R2 U' F2 U L B L' B' L' U B L R"],U=!0,O=!1,w=void 0;try{for(var B,_=T[Symbol.iterator]();!(U=(B=_.next()).done);U=!0){var j=B.value;console.time("solve"),console.log(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:22;return(0,r.formatAlgorithm)(R.solve({scramble:e,maxDepth:t}).solution)}(j)),console.timeEnd("solve")}}catch(e){O=!0,w=e}finally{try{!U&&_.return&&_.return()}finally{if(O)throw w}}})},function(e,t,n){var r,o,i;!function(a,u){o=[t,n(0)],r=u,void 0!==(i="function"==typeof r?r.apply(t,o):r)&&(e.exports=i)}(0,function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPermutationFromIndex=e.getIndexFromPermutation=e.getParity=e.getOrientationFromIndex=e.getIndexFromOrientation=void 0;var n=function(e,t,n){for(var r=e[t],o=t;o<n;o+=1)e[o]=e[o+1];e[n]=r},r=function(e,t,n){for(var r=e[n],o=n;o>t;o-=1)e[o]=e[o-1];e[t]=r};e.getIndexFromOrientation=function(e,t){for(var n=0,r=0;r<e.length-1;r+=1)n=t*n+e[r];return n},e.getOrientationFromIndex=function(e,t,n){for(var r=[],o=0,i=t-2;i>=0;i-=1){var a=e%n;e=Math.floor(e/n),r[i]=a,o+=a}return r[t-1]=(n-o%n)%n,r},e.getParity=function(e){for(var t=0,n=e.length-1;n>0;n-=1)for(var r=n-1;r>=0;r-=1)e[r]>e[n]&&(t+=1);return t%2},e.getIndexFromPermutation=function(e,r){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=0,a=1,u=e.length-1,f=[];if(o)for(var l=e.length-1;l>=0;l-=1)r.indexOf(e[l])>=0&&(u=Math.min(u,e[l]),i+=(0,t.choose)(e.length-1-l,a),f.unshift(e[l]),a+=1);else for(var s=0;s<e.length;s+=1)r.indexOf(e[s])>=0&&(u=Math.min(u,e[s]),i+=(0,t.choose)(s,a),f.push(e[s]),a+=1);for(var c=0,v=f.length-1;v>0;v-=1){for(var h=0;f[v]!=v+u;)n(f,0,v),h+=1;c=(v+1)*c+h}return(0,t.factorial)(r.length)*i+c},e.getPermutationFromIndex=function(e,n,o){for(var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=(0,t.factorial)(n.length),u=Math.floor(e/a),f=e%a,l=[],s=0;s<o;s+=1)l.push(-1);for(var c=1;c<n.length;c+=1){var v=f%(c+1);for(f=Math.floor(f/(c+1));v>0;)r(n,0,c),v-=1}var h=n.length-1;if(i)for(var d=0;d<o;d+=1){var g=(0,t.choose)(o-1-d,h+1);u-g>=0&&(l[d]=n[n.length-1-h],u-=g,h-=1)}else for(var p=o-1;p>=0;p-=1){var m=(0,t.choose)(p,h+1);u-m>=0&&(l[p]=n[h],u-=m,h-=1)}return l}})},function(e,t,n){var r,o,i;!function(n,a){o=[t],r=a,void 0!==(i="function"==typeof r?r.apply(t,o):r)&&(e.exports=i)}(0,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=[[1,8,5,9],[0,11,4,8],[1,2,3,0],[3,10,7,11],[2,9,6,10],[5,4,7,6]],n=[[1,5,2,3,0,4,6,7],[4,1,2,0,7,5,6,3],[3,0,1,2,4,5,6,7],[0,1,3,7,4,5,2,6],[0,2,6,3,4,1,5,7],[0,1,2,3,5,6,7,4]],r=[[1,2,0,0,2,1,0,0],[2,0,0,1,1,0,0,2],[0,0,0,0,0,0,0,0],[0,0,1,2,0,0,2,1],[0,1,2,0,0,2,1,0],[0,0,0,0,0,0,0,0]],o=function(e,t){var n=e.slice(0);n[t[0]]=e[t[t.length-1]];for(var r=1;r<t.length;r+=1)n[t[r]]=e[t[r-1]];return n},i=e.edgePermutationMove=function(e,n){for(var r=t[Math.floor(n/3)],i=n%3,a=0;a<=i;a+=1)e=o(e,r);return e};e.edgeOrientationMove=function(e,n){var r=Math.floor(n/3),o=t[r],a=n%3,u=i(e,n);if((0===r||3===r)&&a%2==0)for(var f=0;f<4;f+=1)u[o[f]]=(u[o[f]]+1)%2;return u},e.cornerPermutationMove=function(e,t){for(var r=n[Math.floor(t/3)],o=t%3,i=0;i<=o;i+=1)for(var a=e.slice(0),u=0;u<8;u+=1)e[u]=a[r[u]];return e},e.cornerOrientationMove=function(e,t){for(var o=Math.floor(t/3),i=t%3,a=0;a<=i;a+=1)for(var u=e.slice(0),f=0;f<8;f+=1){var l=n[o][f];e[f]=(u[l]+r[o][f])%3}return e}})},function(e,t,n){var r,o,i;!function(n,a){o=[t],r=a,void 0!==(i="function"==typeof r?r.apply(t,o):r)&&(e.exports=i)}(0,function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),r=function(e,t,n){return function(r,o){var i=e(r);return i=t(i,o),n(i)}},o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17],i=function(){function e(n){var o=this;if(t(this,e),this.name=n.name,this.size=n.size,this.defaultIndex=n.defaultIndex||0,this.solvedIndexes=n.solvedIndexes||[this.defaultIndex],this.doMove=function(e,t){return n.doMove?n.doMove(o.table,e,t):o.table[e][t]},n.table)return void(this.table=n.table);var i=r(n.getVector,n.cubieMove,n.getIndex);this.createMoveTable(n.size,i,n.moves)}return n(e,[{key:"createMoveTable",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o;this.table=[];for(var r=0;r<e;r+=1)this.table.push([]);for(var i=0;i<e;i+=1)for(var a=0;a<n.length;a+=1){var u=n[a];if(!this.table[i][u]){var f=t(i,u),l=u-u%3*2+2;this.table[i][u]=f,this.table[f][l]=i}}}}]),e}();e.default=i})},function(e,t,n){var r,o,i;!function(a,u){o=[t,n(1),n(2)],r=u,void 0!==(i="function"==typeof r?r.apply(t,o):r)&&(e.exports=i)}(0,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(n),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17],u=function(){function e(t,n){var i=this,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a;r(this,e),this.moveTables=t,this.pruningTables=[],this.moves=u;var f=!0,l=!1,s=void 0;try{for(var c,v=n[Symbol.iterator]();!(f=(c=v.next()).done);f=!0)!function(){var e=c.value,t=e.map(function(e){return i.moveTables.map(function(e){return e.name}).indexOf(e)});t.sort(function(e,t){return i.moveTables[e].size-i.moveTables[t].size});var n=[];t.forEach(function(e){return n.push(i.moveTables[e])});var r=new o.default(n,i.moves);i.pruningTables.push({pruningTable:r,moveTableIndexes:t})}()}catch(e){l=!0,s=e}finally{try{!f&&v.return&&v.return()}finally{if(l)throw s}}}return i(e,[{key:"handleSolution",value:function(e,t){return{solution:e,indexes:t}}},{key:"search",value:function(e,t,n,r){for(var o=0,i=0;i<this.pruningTables.length;i+=1){for(var a=[1],u=1;u<this.pruningTables[i].moveTableIndexes.length;u+=1)a.push(this.moveTables[this.pruningTables[i].moveTableIndexes[u-1]].size*a[u-1]);for(var f=0,l=0;l<this.pruningTables[i].moveTableIndexes.length;l+=1)f+=e[this.pruningTables[i].moveTableIndexes[l]]*a[l];var s=this.pruningTables[i].pruningTable.getPruningValue(f);if(s>t)return!1;s>o&&(o=s)}if(0===o)return this.handleSolution(r,e);if(t>0)for(var c=0;c<this.moves.length;c+=1){var v=this.moves[c];if(Math.floor(v/3)!==Math.floor(n/3)&&Math.floor(v/3)!==Math.floor(n/3)-3){for(var h=[],d=0;d<e.length;d+=1)h.push(this.moveTables[d].doMove(e[d],v));var g=this.search(h,t-1,v,r.concat([v]));if(g)return g}}return!1}},{key:"solve",value:function(e){var n=this;this.settings=Object.assign({maxDepth:22,lastMove:null},e);var r=this.settings.indexes||[];if(this.settings.scramble){for(var o=(0,t.parseAlgorithm)(this.settings.scramble),i=0;i<this.moveTables.length;i+=1)r.push(this.moveTables[i].defaultIndex);o.forEach(function(e){for(var t=0;t<r.length;t+=1)r[t]=n.moveTables[t].doMove(r[t],e)})}for(var a=0;a<=this.settings.maxDepth;a+=1){var u=this.search(r,a,this.settings.lastMove,[]);if(u)return u}}}]),e}();e.default=u})}]);